% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SimData_per_group.R
\name{SimData_per_group}
\alias{SimData_per_group}
\title{Simulate Individual-Level Trial Data for a Treatment Group}
\usage{
SimData_per_group(
  treatment,
  ngroup,
  alpha.JFM,
  theta.JFM,
  lambda,
  ann.icr,
  censorrate,
  xbase,
  xfinal,
  sd.delta.x
)
}
\arguments{
\item{treatment}{Integer. Treatment group indicator (1 for treatment, 0 for control).}

\item{ngroup}{Integer. Number of subjects to simulate in this group.}

\item{alpha.JFM}{Numeric. Alpha parameter for the joint frailty model for mortality.}

\item{theta.JFM}{Numeric. Theta parameter (frailty variance) for the joint frailty model.}

\item{lambda}{Numeric. Annual mortality rate.}

\item{ann.icr}{Numeric. Annual incidence rate of recurrent events (e.g., hospitalizations).}

\item{censorrate}{Numeric. Annual censoring rate.}

\item{xbase}{Numeric. Baseline quality-of-life score (e.g., KCCQ).}

\item{xfinal}{Numeric. Expected final quality-of-life score after follow-up (if no death).}

\item{sd.delta.x}{Numeric. Standard deviation for change in QoL score.}
}
\value{
This function does not return an object directly. Instead, it assigns a data frame named \code{surv_1}
or \code{surv_0} to the global environment depending on the group. The data frame contains the following columns:
\describe{
  \item{subjid}{Subject ID}
  \item{treatment}{Treatment group indicator}
  \item{mortd}{Time to death (in days)}
  \item{censortime}{Observed censoring or death time}
  \item{death}{Death indicator (1 if died before censoring)}
  \item{HFH}{Number of recurrent events (e.g., hospitalizations)}
  \item{kccq}{Quality-of-life score (missing if death occurred before day 360)}
}
}
\description{
Generates individual-level simulated data for a treatment or control group in a hierarchical win ratio trial.
The simulation includes frailty-adjusted time-to-death, recurrent hospitalization events, censoring times,
and longitudinal quality-of-life scores (e.g., KCCQ). It outputs a subject-level summary suitable for further analysis.
}
\details{
This function is called internally by \code{winratiosim()} and assigns the output as a global variable
(\code{surv_1} or \code{surv_0}) based on the treatment group.


\itemize{
  \item Mortality is modeled via a frailty-adjusted exponential distribution.
  \item Recurrent events (gap times) are modeled as exponential with frailty.
  \item Follow-up is administratively censored at 360 days or lost to follow-up.
  \item KCCQ scores are simulated based on a normal distribution bounded between -100 and 100.
}
}
\examples{
\dontrun{
SimData_per_group(
  treatment = 1, ngroup = 100,
  alpha.JFM = 0, theta.JFM = 1,
  lambda = 0.13, ann.icr = 0.32,
  censorrate = 0.2, xbase = 45, xfinal = 52.5, sd.delta.x = 20
)
head(surv_1)
}

}
